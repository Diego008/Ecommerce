@model IEnumerable<Ecommerce.Models.Admin>

@{
    ViewBag.Title = "Login";
}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken();

    <div class="form-horizontal">
        <hr />
        @*<h3 class="text-center">@ViewBag.Error</h3>*@
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            <label class="control-label col-md-2">
                Selecione
            </label>
            <div>
                <div class="col-md-8">
                    <select onchange="UserSelect(this.value)" class="form-control" name="login">
                        <option value="0">Selecione o tipo de Usuário</option>
                        <option value="1">Usuário Padrão</option>
                        <option value="2">Administrador</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-2">
                Email
            </label>
            <div>
                <div class="col-md-8 ">
                    <input type="text" name="email" id="txtEmail" class="form-control" disabled="disabled" />
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-2">
                Senha
            </label>
            <div class="col-md-8">
                <input type="password" name="senha" id="txtSenha" class="form-control" disabled="disabled" />
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input id="btnEntrar" type="submit" value="Entrar" class="btn btn-primary" disabled="disabled" />
            </div>
        </div>
    </div>
}

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                
            </div>
            <div class="modal-body">
                <h4 class="modal-title">Nome de usuário e/ou senha inválida</h4>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Fechar</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
@section Scripts{

    <script>
        function UserSelect(valor) {
            if (valor != "0") {
                document.getElementById("txtEmail").disabled = false;
                document.getElementById("txtSenha").disabled = false;
                document.getElementById("btnEntrar").disabled = false;
            }

        }
    </script>

    @if (ViewBag.Message != null)
    {
        <script>
            $('#myModal').modal('show');
        </script>
    }
}

