@model IEnumerable<E_commerce.Models.Categoria>

@{
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    ViewBag.Title = "Categoria";
}

<h2>Categorias</h2>

<div class="row">
    <div class="col-md-12 col-sm-12">
        <a href="@Url.Action("Create", "Categorias")" class="btn btn-success btn-lg link-white">Nova Categoria</a>
    </div>
</div>
@*<p>@Html.ActionLink("Nova Categoria", "Create")</p>*@

<div class="row">
    <div class="col-md-6 col-sm-6">
        <table class="table table-bordered margem-top">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Nome)
                </th>
                <th style="width:200px;">Ações</th>
            </tr>
            @if (!Model.Any())
            {
                <tr>
                    <td>
                        <p>Não há categorias cadastradas.</p>
                    </td>
                </tr>
            }
            else
            {
                foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Nome)
                        </td>
                        <td>
                            @*@Html.ActionLink("Edit", "Edit", new { id=item.CategoriaID }) |*@
                            <a href="@Url.Action("Edit", "Categorias", new { id = item.CategoriaID })" title="Editar">
                                <i class="fa fa-edit"></i>
                            </a>

                            @*@Html.ActionLink("Details", "Details", new { id=item.CategoriaID }) |*@
                            <a href="@Url.Action("Details", "Categorias", new { id = item.CategoriaID })" title="Detalhes">
                                <i class="fa fa-eye"></i>
                            </a>

                            @*@Html.ActionLink("Delete", "Delete", new { id=item.CategoriaID })*@
                            <a href="@Url.Action("Delete", "Categorias", new { id = item.CategoriaID })" title="Deletar">
                                <i class="fa fa-trash"></i>
                            </a>
                        </td>
                    </tr>
                }
            }
        </table>
    </div>
</div>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">

</div>

@section scripts{
    <script>
        $(function () {
            $(".details").click(function () {
                var id = $(this).attr("data-id");
                $("#modal").load("Details?id=" + id, function () {
                    $("#modal").modal('show');
                })
            });
        })
    </script>

}